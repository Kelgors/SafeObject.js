"use strict";System.register("SafeObject",[],function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n,o;return{setters:[],execute:function(){n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=function(){function t(){r(this,t),this._clearAllInstanceProperties(t.SAFE_OBJECT_INITIALIZE),this._isSafeObject=!0}return n(t,null,[{key:"include",value:function(e){if(e._isSafeObject)return e;["destroy","_getAncestors","_getAttributes","_clearAllInstanceProperties","_parsePropertyDescriptor"].forEach(function(r){"destroy"===r&&"function"==typeof e[r]?!function(){var n=e[r];e[r]=function(){t.prototype[r].call(this,arguments),n.apply(this,arguments)}}():e[r]=t.prototype[r]}),e._isSafeObject=!0;var r=e.constructor.INSTANCE_PROPERTIES;return r&&r.length&&e._clearAllInstanceProperties(t.SAFE_OBJECT_INITIALIZE),e}}]),n(t,[{key:"destroy",value:function(){this._clearAllInstanceProperties(t.SAFE_OBJECT_DESTROY)}},{key:"_getAncestors",value:function(){for(var t=this.constructor,e=[];t=Object.getPrototypeOf(t.prototype)?Object.getPrototypeOf(t.prototype).constructor:null;)e.push(t||[]);return e}},{key:"_getAttributes",value:function(){for(var t=[this.constructor].concat(this._getAncestors()),e=[],r=0;r<t.length;r++)e.push.apply(e,t[r].INSTANCE_PROPERTIES);return e}},{key:"_clearAllInstanceProperties",value:function(e){for(var r=(this.constructor,this._getAttributes()),n=0;n<r.length;n++)try{var o=r[n],i=void 0,c=void 0;"string"==typeof o?(i=o,c=this._parsePropertyDescriptor()):Array.isArray(o)&&(i=o[0],c=this._parsePropertyDescriptor(o[1])),e===t.SAFE_OBJECT_INITIALIZE&&i&&c?Object.defineProperty(this,i,c):e===t.SAFE_OBJECT_DESTROY&&i&&(this[i]&&"function"==typeof this[i].destroy&&this[i].destroy(),this[i]=null)}catch(s){console.log("SafeObject#_clearAllInstanceProperties: "+s.toString())}}},{key:"_parsePropertyDescriptor",value:function(t){if(!t||t.constructor!==Object)return{writable:!0,configurable:!0,enumerable:!0,value:null};var e=t;return"value"in e||(e.value=null),"enumerable"in e||(e.enumerable=!0),"configurable"in e||(e.configurable=!0),"writable"in e||(e.writable=!0),e}}]),t}(),t("default",o),o.SAFE_OBJECT_INITIALIZE=1,o.SAFE_OBJECT_DESTROY=2}}});